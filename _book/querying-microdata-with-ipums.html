<!DOCTYPE html>
<html lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>6 Querying Microdata with IPUMS | Guide to Using Census Data</title>
  <meta name="description" content="This guide provides an overview of using the U.S. Census Bureau’s data." />
  <meta name="generator" content="bookdown 0.45 and GitBook 2.6.7" />

  <meta property="og:title" content="6 Querying Microdata with IPUMS | Guide to Using Census Data" />
  <meta property="og:type" content="book" />
  
  <meta property="og:description" content="This guide provides an overview of using the U.S. Census Bureau’s data." />
  <meta name="github-repo" content="social-lorax" />

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="6 Querying Microdata with IPUMS | Guide to Using Census Data" />
  
  <meta name="twitter:description" content="This guide provides an overview of using the U.S. Census Bureau’s data." />
  

<meta name="author" content="Ryan Brenner" />



  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  
<link rel="prev" href="querying-nyc-hvs-data.html"/>

<script src="libs/jquery-3.6.0/jquery-3.6.0.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/fuse.js@6.4.6/dist/fuse.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-clipboard.css" rel="stylesheet" />








<link href="libs/anchor-sections-1.1.0/anchor-sections.css" rel="stylesheet" />
<link href="libs/anchor-sections-1.1.0/anchor-sections-hash.css" rel="stylesheet" />
<script src="libs/anchor-sections-1.1.0/anchor-sections.js"></script>
<link href="libs/htmltools-fill-0.5.8.1/fill.css" rel="stylesheet" />
<script src="libs/htmlwidgets-1.6.4/htmlwidgets.js"></script>
<link href="libs/datatables-css-0.0.0/datatables-crosstalk.css" rel="stylesheet" />
<script src="libs/datatables-binding-0.33/datatables.js"></script>
<link href="libs/dt-core-1.13.6/css/jquery.dataTables.min.css" rel="stylesheet" />
<link href="libs/dt-core-1.13.6/css/jquery.dataTables.extra.css" rel="stylesheet" />
<script src="libs/dt-core-1.13.6/js/jquery.dataTables.min.js"></script>
<link href="libs/crosstalk-1.2.1/css/crosstalk.min.css" rel="stylesheet" />
<script src="libs/crosstalk-1.2.1/js/crosstalk.min.js"></script>


<style type="text/css">
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { display: inline-block; text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { color: #008000; } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { color: #008000; font-weight: bold; } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>

<style type="text/css">
  
  div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
</style>

</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li class="chapter" data-level="1" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i><b>1</b> Census Data</a></li>
<li class="chapter" data-level="2" data-path="understanding-census-geographies.html"><a href="understanding-census-geographies.html"><i class="fa fa-check"></i><b>2</b> Understanding Census Geographies</a>
<ul>
<li class="chapter" data-level="2.1" data-path="understanding-census-geographies.html"><a href="understanding-census-geographies.html#background"><i class="fa fa-check"></i><b>2.1</b> Background</a></li>
<li class="chapter" data-level="2.2" data-path="understanding-census-geographies.html"><a href="understanding-census-geographies.html#nested-geographies"><i class="fa fa-check"></i><b>2.2</b> Nested Geographies</a>
<ul>
<li class="chapter" data-level="2.2.1" data-path="understanding-census-geographies.html"><a href="understanding-census-geographies.html#nation"><i class="fa fa-check"></i><b>2.2.1</b> Nation</a></li>
<li class="chapter" data-level="2.2.2" data-path="understanding-census-geographies.html"><a href="understanding-census-geographies.html#regions"><i class="fa fa-check"></i><b>2.2.2</b> Regions</a></li>
<li class="chapter" data-level="2.2.3" data-path="understanding-census-geographies.html"><a href="understanding-census-geographies.html#divisions"><i class="fa fa-check"></i><b>2.2.3</b> Divisions</a></li>
<li class="chapter" data-level="2.2.4" data-path="understanding-census-geographies.html"><a href="understanding-census-geographies.html#states"><i class="fa fa-check"></i><b>2.2.4</b> States</a></li>
<li class="chapter" data-level="2.2.5" data-path="understanding-census-geographies.html"><a href="understanding-census-geographies.html#counties"><i class="fa fa-check"></i><b>2.2.5</b> Counties</a></li>
<li class="chapter" data-level="2.2.6" data-path="understanding-census-geographies.html"><a href="understanding-census-geographies.html#tracts"><i class="fa fa-check"></i><b>2.2.6</b> Tracts</a></li>
<li class="chapter" data-level="2.2.7" data-path="understanding-census-geographies.html"><a href="understanding-census-geographies.html#block-groups"><i class="fa fa-check"></i><b>2.2.7</b> Block Groups</a></li>
<li class="chapter" data-level="2.2.8" data-path="understanding-census-geographies.html"><a href="understanding-census-geographies.html#blocks"><i class="fa fa-check"></i><b>2.2.8</b> Blocks</a></li>
</ul></li>
<li class="chapter" data-level="2.3" data-path="understanding-census-geographies.html"><a href="understanding-census-geographies.html#non-nesting-geographies"><i class="fa fa-check"></i><b>2.3</b> Non-Nesting Geographies</a>
<ul>
<li class="chapter" data-level="2.3.1" data-path="understanding-census-geographies.html"><a href="understanding-census-geographies.html#place"><i class="fa fa-check"></i><b>2.3.1</b> Place</a></li>
<li class="chapter" data-level="2.3.2" data-path="understanding-census-geographies.html"><a href="understanding-census-geographies.html#core-based-statistical-area-cbsa"><i class="fa fa-check"></i><b>2.3.2</b> Core Based Statistical Area (CBSA)</a></li>
<li class="chapter" data-level="2.3.3" data-path="understanding-census-geographies.html"><a href="understanding-census-geographies.html#public-use-microdata-area-puma"><i class="fa fa-check"></i><b>2.3.3</b> Public Use Microdata Area (PUMA)</a></li>
<li class="chapter" data-level="2.3.4" data-path="understanding-census-geographies.html"><a href="understanding-census-geographies.html#zip-code-tabulation-area-zcta"><i class="fa fa-check"></i><b>2.3.4</b> ZIP Code Tabulation Area (ZCTA)</a></li>
<li class="chapter" data-level="2.3.5" data-path="understanding-census-geographies.html"><a href="understanding-census-geographies.html#legislative-distrcts"><i class="fa fa-check"></i><b>2.3.5</b> Legislative Distrcts</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="3" data-path="comparing-geographies-across-time.html"><a href="comparing-geographies-across-time.html"><i class="fa fa-check"></i><b>3</b> Comparing Geographies Across Time</a></li>
<li class="chapter" data-level="4" data-path="querying-decennial-and-acs-data-with-tidycensus.html"><a href="querying-decennial-and-acs-data-with-tidycensus.html"><i class="fa fa-check"></i><b>4</b> Querying Decennial and ACS Data with <code>tidycensus</code></a></li>
<li class="chapter" data-level="5" data-path="querying-nyc-hvs-data.html"><a href="querying-nyc-hvs-data.html"><i class="fa fa-check"></i><b>5</b> Querying NYC HVS Data</a>
<ul>
<li class="chapter" data-level="5.1" data-path="querying-nyc-hvs-data.html"><a href="querying-nyc-hvs-data.html#survey-design"><i class="fa fa-check"></i><b>5.1</b> Survey Design</a></li>
<li class="chapter" data-level="5.2" data-path="querying-nyc-hvs-data.html"><a href="querying-nyc-hvs-data.html#variables"><i class="fa fa-check"></i><b>5.2</b> Variables</a>
<ul>
<li class="chapter" data-level="5.2.1" data-path="querying-nyc-hvs-data.html"><a href="querying-nyc-hvs-data.html#borough-all-units"><i class="fa fa-check"></i><b>5.2.1</b> Borough (All Units)</a></li>
<li class="chapter" data-level="5.2.2" data-path="querying-nyc-hvs-data.html"><a href="querying-nyc-hvs-data.html#regulatory-status-all-units"><i class="fa fa-check"></i><b>5.2.2</b> Regulatory Status (All Units)</a></li>
<li class="chapter" data-level="5.2.3" data-path="querying-nyc-hvs-data.html"><a href="querying-nyc-hvs-data.html#year-built-all-units"><i class="fa fa-check"></i><b>5.2.3</b> Year Built (All Units)</a></li>
<li class="chapter" data-level="5.2.4" data-path="querying-nyc-hvs-data.html"><a href="querying-nyc-hvs-data.html#units-in-building-all-units"><i class="fa fa-check"></i><b>5.2.4</b> Units in Building (All Units)</a></li>
<li class="chapter" data-level="5.2.5" data-path="querying-nyc-hvs-data.html"><a href="querying-nyc-hvs-data.html#coopcondos-all-units"><i class="fa fa-check"></i><b>5.2.5</b> Coop/Condos (All Units)</a></li>
<li class="chapter" data-level="5.2.6" data-path="querying-nyc-hvs-data.html"><a href="querying-nyc-hvs-data.html#occupancy-all-units"><i class="fa fa-check"></i><b>5.2.6</b> Occupancy (All Units)</a></li>
<li class="chapter" data-level="5.2.7" data-path="querying-nyc-hvs-data.html"><a href="querying-nyc-hvs-data.html#tenure-occupied"><i class="fa fa-check"></i><b>5.2.7</b> Tenure (Occupied)</a></li>
<li class="chapter" data-level="5.2.8" data-path="querying-nyc-hvs-data.html"><a href="querying-nyc-hvs-data.html#household-income-occupied"><i class="fa fa-check"></i><b>5.2.8</b> Household Income (Occupied)</a></li>
<li class="chapter" data-level="5.2.9" data-path="querying-nyc-hvs-data.html"><a href="querying-nyc-hvs-data.html#rent-occupied"><i class="fa fa-check"></i><b>5.2.9</b> Rent (Occupied)</a></li>
<li class="chapter" data-level="5.2.10" data-path="querying-nyc-hvs-data.html"><a href="querying-nyc-hvs-data.html#voucher-use-occupied"><i class="fa fa-check"></i><b>5.2.10</b> Voucher Use (Occupied)</a></li>
</ul></li>
<li class="chapter" data-level="5.3" data-path="querying-nyc-hvs-data.html"><a href="querying-nyc-hvs-data.html#examples"><i class="fa fa-check"></i><b>5.3</b> Examples</a>
<ul>
<li class="chapter" data-level="5.3.1" data-path="querying-nyc-hvs-data.html"><a href="querying-nyc-hvs-data.html#count-of-vacancy-and-tenure"><i class="fa fa-check"></i><b>5.3.1</b> <strong>Count</strong> of Vacancy and Tenure</a></li>
<li class="chapter" data-level="5.3.2" data-path="querying-nyc-hvs-data.html"><a href="querying-nyc-hvs-data.html#median-rent-by-regulation"><i class="fa fa-check"></i><b>5.3.2</b> <strong>Median Rent</strong> by Regulation</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="6" data-path="querying-microdata-with-ipums.html"><a href="querying-microdata-with-ipums.html"><i class="fa fa-check"></i><b>6</b> Querying Microdata with IPUMS</a>
<ul>
<li class="chapter" data-level="6.1" data-path="querying-microdata-with-ipums.html"><a href="querying-microdata-with-ipums.html#extracting-data"><i class="fa fa-check"></i><b>6.1</b> Extracting Data</a>
<ul>
<li class="chapter" data-level="6.1.1" data-path="querying-microdata-with-ipums.html"><a href="querying-microdata-with-ipums.html#select-samples"><i class="fa fa-check"></i><b>6.1.1</b> Select Samples</a></li>
<li class="chapter" data-level="6.1.2" data-path="querying-microdata-with-ipums.html"><a href="querying-microdata-with-ipums.html#select-geography"><i class="fa fa-check"></i><b>6.1.2</b> Select Geography</a></li>
<li class="chapter" data-level="6.1.3" data-path="querying-microdata-with-ipums.html"><a href="querying-microdata-with-ipums.html#select-variables"><i class="fa fa-check"></i><b>6.1.3</b> Select Variables</a></li>
<li class="chapter" data-level="6.1.4" data-path="querying-microdata-with-ipums.html"><a href="querying-microdata-with-ipums.html#view-data-cart"><i class="fa fa-check"></i><b>6.1.4</b> View Data Cart</a></li>
<li class="chapter" data-level="6.1.5" data-path="querying-microdata-with-ipums.html"><a href="querying-microdata-with-ipums.html#modify-extract"><i class="fa fa-check"></i><b>6.1.5</b> Modify Extract</a></li>
<li class="chapter" data-level="6.1.6" data-path="querying-microdata-with-ipums.html"><a href="querying-microdata-with-ipums.html#download"><i class="fa fa-check"></i><b>6.1.6</b> Download</a></li>
</ul></li>
<li class="chapter" data-level="6.2" data-path="querying-microdata-with-ipums.html"><a href="querying-microdata-with-ipums.html#analyzing-a-survey"><i class="fa fa-check"></i><b>6.2</b> Analyzing a Survey</a></li>
</ul></li>
</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">Guide to Using Census Data</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="querying-microdata-with-ipums" class="section level1 hasAnchor" number="6">
<h1><span class="header-section-number">6</span> Querying Microdata with IPUMS<a href="querying-microdata-with-ipums.html#querying-microdata-with-ipums" class="anchor-section" aria-label="Anchor link to header"></a></h1>
<p><img src="Images/IPUMS/logo_ipums.png" height="100" /></p>
<div class="sourceCode" id="cb17"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb17-1"><a href="querying-microdata-with-ipums.html#cb17-1" tabindex="-1"></a><span class="fu">library</span>(tidyverse)</span>
<span id="cb17-2"><a href="querying-microdata-with-ipums.html#cb17-2" tabindex="-1"></a><span class="fu">library</span>(srvyr)</span>
<span id="cb17-3"><a href="querying-microdata-with-ipums.html#cb17-3" tabindex="-1"></a><span class="fu">library</span>(DT)</span></code></pre></div>
<p>IPUMS, originally the Integrated Public Use Microdata Series, is a database of Census microdata housed at the Institute for Social Research and Data Innovation (ISRDI) at the University of Minnesota. Whereas the published tables of the American Community Survey (ACS) provide pre-calculated indicators and aggregated statistics for predefined geographies, IPUMS offers anonymized versions of the underlying person- and household-level records. Access to these raw microdata enables finer-grained analysis and the ability to create cross-tabulations of variables that are not combined in standard ACS products.</p>
<p><strong>Example</strong></p>
<p>The ACS surveys renter-occupied households about their rent. Whereas Table B25064 provides the median rent for a given geography, Table B25063 provides a distribution of rent amounts. However, the bins are pre-set with bin widths of $50 for rents under $800, $100 for rents under $1,000, $250 for rents under $1,500, $500 for rents under $3,500, and then a ceiling of $3,500. With a citywide median of around $1,700, these bin widths are not ideal for analyzing NYC rents.</p>
<div class="sourceCode" id="cb18"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb18-1"><a href="querying-microdata-with-ipums.html#cb18-1" tabindex="-1"></a><span class="fu">library</span>(tidycensus)</span>
<span id="cb18-2"><a href="querying-microdata-with-ipums.html#cb18-2" tabindex="-1"></a></span>
<span id="cb18-3"><a href="querying-microdata-with-ipums.html#cb18-3" tabindex="-1"></a>acs_rent <span class="ot">&lt;-</span> </span>
<span id="cb18-4"><a href="querying-microdata-with-ipums.html#cb18-4" tabindex="-1"></a>  tidycensus<span class="sc">::</span><span class="fu">get_acs</span>(</span>
<span id="cb18-5"><a href="querying-microdata-with-ipums.html#cb18-5" tabindex="-1"></a>    <span class="at">geography =</span> <span class="st">&quot;place&quot;</span>,</span>
<span id="cb18-6"><a href="querying-microdata-with-ipums.html#cb18-6" tabindex="-1"></a>    <span class="at">state =</span> <span class="st">&quot;36&quot;</span>,</span>
<span id="cb18-7"><a href="querying-microdata-with-ipums.html#cb18-7" tabindex="-1"></a>    <span class="at">table =</span> <span class="st">&quot;B25063&quot;</span>,</span>
<span id="cb18-8"><a href="querying-microdata-with-ipums.html#cb18-8" tabindex="-1"></a>    <span class="at">year =</span> <span class="dv">2023</span>,</span>
<span id="cb18-9"><a href="querying-microdata-with-ipums.html#cb18-9" tabindex="-1"></a>    <span class="at">survey =</span> <span class="st">&quot;acs1&quot;</span></span>
<span id="cb18-10"><a href="querying-microdata-with-ipums.html#cb18-10" tabindex="-1"></a>  ) <span class="sc">%&gt;%</span> </span>
<span id="cb18-11"><a href="querying-microdata-with-ipums.html#cb18-11" tabindex="-1"></a>  dplyr<span class="sc">::</span><span class="fu">filter</span>(NAME <span class="sc">==</span> <span class="st">&quot;New York city, New York&quot;</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb18-12"><a href="querying-microdata-with-ipums.html#cb18-12" tabindex="-1"></a>  dplyr<span class="sc">::</span><span class="fu">transmute</span>(</span>
<span id="cb18-13"><a href="querying-microdata-with-ipums.html#cb18-13" tabindex="-1"></a>    <span class="at">rent =</span> dplyr<span class="sc">::</span><span class="fu">case_when</span>(</span>
<span id="cb18-14"><a href="querying-microdata-with-ipums.html#cb18-14" tabindex="-1"></a>      variable <span class="sc">==</span> <span class="st">&quot;B25063_001&quot;</span> <span class="sc">~</span> <span class="st">&quot;DROP&quot;</span>, <span class="co">#Total</span></span>
<span id="cb18-15"><a href="querying-microdata-with-ipums.html#cb18-15" tabindex="-1"></a>      variable <span class="sc">==</span> <span class="st">&quot;B25063_002&quot;</span> <span class="sc">~</span> <span class="st">&quot;DROP&quot;</span>, <span class="co">#With cash rent</span></span>
<span id="cb18-16"><a href="querying-microdata-with-ipums.html#cb18-16" tabindex="-1"></a>      variable <span class="sc">==</span> <span class="st">&quot;B25063_003&quot;</span> <span class="sc">~</span> <span class="st">&quot;0-99&quot;</span>,</span>
<span id="cb18-17"><a href="querying-microdata-with-ipums.html#cb18-17" tabindex="-1"></a>      variable <span class="sc">==</span> <span class="st">&quot;B25063_004&quot;</span> <span class="sc">~</span> <span class="st">&quot;100-149&quot;</span>,</span>
<span id="cb18-18"><a href="querying-microdata-with-ipums.html#cb18-18" tabindex="-1"></a>      variable <span class="sc">==</span> <span class="st">&quot;B25063_005&quot;</span> <span class="sc">~</span> <span class="st">&quot;150-199&quot;</span>,</span>
<span id="cb18-19"><a href="querying-microdata-with-ipums.html#cb18-19" tabindex="-1"></a>      variable <span class="sc">==</span> <span class="st">&quot;B25063_006&quot;</span> <span class="sc">~</span> <span class="st">&quot;200-249&quot;</span>,</span>
<span id="cb18-20"><a href="querying-microdata-with-ipums.html#cb18-20" tabindex="-1"></a>      variable <span class="sc">==</span> <span class="st">&quot;B25063_007&quot;</span> <span class="sc">~</span> <span class="st">&quot;250-299&quot;</span>,</span>
<span id="cb18-21"><a href="querying-microdata-with-ipums.html#cb18-21" tabindex="-1"></a>      variable <span class="sc">==</span> <span class="st">&quot;B25063_008&quot;</span> <span class="sc">~</span> <span class="st">&quot;300-349&quot;</span>,</span>
<span id="cb18-22"><a href="querying-microdata-with-ipums.html#cb18-22" tabindex="-1"></a>      variable <span class="sc">==</span> <span class="st">&quot;B25063_009&quot;</span> <span class="sc">~</span> <span class="st">&quot;350-399&quot;</span>,</span>
<span id="cb18-23"><a href="querying-microdata-with-ipums.html#cb18-23" tabindex="-1"></a>      variable <span class="sc">==</span> <span class="st">&quot;B25063_010&quot;</span> <span class="sc">~</span> <span class="st">&quot;400-449&quot;</span>,</span>
<span id="cb18-24"><a href="querying-microdata-with-ipums.html#cb18-24" tabindex="-1"></a>      variable <span class="sc">==</span> <span class="st">&quot;B25063_011&quot;</span> <span class="sc">~</span> <span class="st">&quot;450-499&quot;</span>,</span>
<span id="cb18-25"><a href="querying-microdata-with-ipums.html#cb18-25" tabindex="-1"></a>      variable <span class="sc">==</span> <span class="st">&quot;B25063_012&quot;</span> <span class="sc">~</span> <span class="st">&quot;500-549&quot;</span>,</span>
<span id="cb18-26"><a href="querying-microdata-with-ipums.html#cb18-26" tabindex="-1"></a>      variable <span class="sc">==</span> <span class="st">&quot;B25063_013&quot;</span> <span class="sc">~</span> <span class="st">&quot;550-599&quot;</span>,</span>
<span id="cb18-27"><a href="querying-microdata-with-ipums.html#cb18-27" tabindex="-1"></a>      variable <span class="sc">==</span> <span class="st">&quot;B25063_014&quot;</span> <span class="sc">~</span> <span class="st">&quot;600-649&quot;</span>,</span>
<span id="cb18-28"><a href="querying-microdata-with-ipums.html#cb18-28" tabindex="-1"></a>      variable <span class="sc">==</span> <span class="st">&quot;B25063_015&quot;</span> <span class="sc">~</span> <span class="st">&quot;650-699&quot;</span>,</span>
<span id="cb18-29"><a href="querying-microdata-with-ipums.html#cb18-29" tabindex="-1"></a>      variable <span class="sc">==</span> <span class="st">&quot;B25063_016&quot;</span> <span class="sc">~</span> <span class="st">&quot;700-749&quot;</span>,</span>
<span id="cb18-30"><a href="querying-microdata-with-ipums.html#cb18-30" tabindex="-1"></a>      variable <span class="sc">==</span> <span class="st">&quot;B25063_017&quot;</span> <span class="sc">~</span> <span class="st">&quot;750-799&quot;</span>,</span>
<span id="cb18-31"><a href="querying-microdata-with-ipums.html#cb18-31" tabindex="-1"></a>      variable <span class="sc">==</span> <span class="st">&quot;B25063_018&quot;</span> <span class="sc">~</span> <span class="st">&quot;800-899&quot;</span>,</span>
<span id="cb18-32"><a href="querying-microdata-with-ipums.html#cb18-32" tabindex="-1"></a>      variable <span class="sc">==</span> <span class="st">&quot;B25063_019&quot;</span> <span class="sc">~</span> <span class="st">&quot;900-999&quot;</span>,</span>
<span id="cb18-33"><a href="querying-microdata-with-ipums.html#cb18-33" tabindex="-1"></a>      variable <span class="sc">==</span> <span class="st">&quot;B25063_020&quot;</span> <span class="sc">~</span> <span class="st">&quot;1000-1249&quot;</span>,</span>
<span id="cb18-34"><a href="querying-microdata-with-ipums.html#cb18-34" tabindex="-1"></a>      variable <span class="sc">==</span> <span class="st">&quot;B25063_021&quot;</span> <span class="sc">~</span> <span class="st">&quot;1250-1499&quot;</span>,</span>
<span id="cb18-35"><a href="querying-microdata-with-ipums.html#cb18-35" tabindex="-1"></a>      variable <span class="sc">==</span> <span class="st">&quot;B25063_022&quot;</span> <span class="sc">~</span> <span class="st">&quot;1500-1999&quot;</span>,</span>
<span id="cb18-36"><a href="querying-microdata-with-ipums.html#cb18-36" tabindex="-1"></a>      variable <span class="sc">==</span> <span class="st">&quot;B25063_023&quot;</span> <span class="sc">~</span> <span class="st">&quot;2000-2499&quot;</span>,</span>
<span id="cb18-37"><a href="querying-microdata-with-ipums.html#cb18-37" tabindex="-1"></a>      variable <span class="sc">==</span> <span class="st">&quot;B25063_024&quot;</span> <span class="sc">~</span> <span class="st">&quot;2500-2999&quot;</span>,</span>
<span id="cb18-38"><a href="querying-microdata-with-ipums.html#cb18-38" tabindex="-1"></a>      variable <span class="sc">==</span> <span class="st">&quot;B25063_025&quot;</span> <span class="sc">~</span> <span class="st">&quot;3000-3499&quot;</span>,</span>
<span id="cb18-39"><a href="querying-microdata-with-ipums.html#cb18-39" tabindex="-1"></a>      variable <span class="sc">==</span> <span class="st">&quot;B25063_026&quot;</span> <span class="sc">~</span> <span class="st">&quot;3500-Inf&quot;</span>,</span>
<span id="cb18-40"><a href="querying-microdata-with-ipums.html#cb18-40" tabindex="-1"></a>      variable <span class="sc">==</span> <span class="st">&quot;B25063_027&quot;</span> <span class="sc">~</span> <span class="st">&quot;DROP&quot;</span> <span class="co">#No cash rent</span></span>
<span id="cb18-41"><a href="querying-microdata-with-ipums.html#cb18-41" tabindex="-1"></a>    ),</span>
<span id="cb18-42"><a href="querying-microdata-with-ipums.html#cb18-42" tabindex="-1"></a>    <span class="at">Estimate =</span> estimate,</span>
<span id="cb18-43"><a href="querying-microdata-with-ipums.html#cb18-43" tabindex="-1"></a>    <span class="at">MOE =</span> stringr<span class="sc">::</span><span class="fu">str_c</span>(</span>
<span id="cb18-44"><a href="querying-microdata-with-ipums.html#cb18-44" tabindex="-1"></a>      <span class="st">&quot;+/- &quot;</span>,</span>
<span id="cb18-45"><a href="querying-microdata-with-ipums.html#cb18-45" tabindex="-1"></a>      scales<span class="sc">::</span><span class="fu">comma</span>(moe, <span class="at">accuracy =</span> <span class="dv">1</span>)</span>
<span id="cb18-46"><a href="querying-microdata-with-ipums.html#cb18-46" tabindex="-1"></a>    )</span>
<span id="cb18-47"><a href="querying-microdata-with-ipums.html#cb18-47" tabindex="-1"></a>  ) <span class="sc">%&gt;%</span> </span>
<span id="cb18-48"><a href="querying-microdata-with-ipums.html#cb18-48" tabindex="-1"></a>  dplyr<span class="sc">::</span><span class="fu">filter</span>(rent <span class="sc">!=</span> <span class="st">&quot;DROP&quot;</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb18-49"><a href="querying-microdata-with-ipums.html#cb18-49" tabindex="-1"></a>  tidyr<span class="sc">::</span><span class="fu">separate</span>(</span>
<span id="cb18-50"><a href="querying-microdata-with-ipums.html#cb18-50" tabindex="-1"></a>    rent, </span>
<span id="cb18-51"><a href="querying-microdata-with-ipums.html#cb18-51" tabindex="-1"></a>    <span class="at">into =</span> <span class="fu">c</span>(<span class="st">&quot;Bin_Min&quot;</span>, <span class="st">&quot;Bin_Max&quot;</span>),</span>
<span id="cb18-52"><a href="querying-microdata-with-ipums.html#cb18-52" tabindex="-1"></a>    <span class="at">sep =</span> <span class="st">&quot;-&quot;</span></span>
<span id="cb18-53"><a href="querying-microdata-with-ipums.html#cb18-53" tabindex="-1"></a>  )</span>
<span id="cb18-54"><a href="querying-microdata-with-ipums.html#cb18-54" tabindex="-1"></a></span>
<span id="cb18-55"><a href="querying-microdata-with-ipums.html#cb18-55" tabindex="-1"></a>acs_rent <span class="sc">%&gt;%</span> </span>
<span id="cb18-56"><a href="querying-microdata-with-ipums.html#cb18-56" tabindex="-1"></a>  DT<span class="sc">::</span><span class="fu">datatable</span>() <span class="sc">%&gt;%</span> </span>
<span id="cb18-57"><a href="querying-microdata-with-ipums.html#cb18-57" tabindex="-1"></a>  DT<span class="sc">::</span><span class="fu">formatCurrency</span>(<span class="fu">c</span>(<span class="st">&quot;Bin_Min&quot;</span>, <span class="st">&quot;Bin_Max&quot;</span>), <span class="at">currency =</span> <span class="st">&quot;$&quot;</span>, <span class="at">digits =</span> <span class="dv">0</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb18-58"><a href="querying-microdata-with-ipums.html#cb18-58" tabindex="-1"></a>  DT<span class="sc">::</span><span class="fu">formatRound</span>(<span class="fu">c</span>(<span class="st">&quot;Estimate&quot;</span>), <span class="at">digits =</span> <span class="dv">0</span>)</span></code></pre></div>
<div class="datatables html-widget html-fill-item" id="htmlwidget-f3574ec95f534c8afebf" style="width:100%;height:auto;"></div>
<script type="application/json" data-for="htmlwidget-f3574ec95f534c8afebf">{"x":{"filter":"none","vertical":false,"data":[["1","2","3","4","5","6","7","8","9","10","11","12","13","14","15","16","17","18","19","20","21","22","23","24"],["0","100","150","200","250","300","350","400","450","500","550","600","650","700","750","800","900","1000","1250","1500","2000","2500","3000","3500"],["99","149","199","249","299","349","399","449","499","549","599","649","699","749","799","899","999","1249","1499","1999","2499","2999","3499","Inf"],[3969,6147,7727,29810,48438,35199,23227,20669,15683,22405,17627,20661,16079,23511,21996,48144,75191,215222,229439,474512,328869,183746,108656,256321],["+/- 1,544","+/- 2,094","+/- 2,272","+/- 3,863","+/- 4,368","+/- 4,845","+/- 2,907","+/- 3,462","+/- 2,520","+/- 3,236","+/- 3,258","+/- 3,237","+/- 3,138","+/- 3,422","+/- 3,370","+/- 5,489","+/- 6,424","+/- 9,770","+/- 10,377","+/- 13,273","+/- 13,217","+/- 8,848","+/- 6,833","+/- 10,249"]],"container":"<table class=\"display\">\n  <thead>\n    <tr>\n      <th> <\/th>\n      <th>Bin_Min<\/th>\n      <th>Bin_Max<\/th>\n      <th>Estimate<\/th>\n      <th>MOE<\/th>\n    <\/tr>\n  <\/thead>\n<\/table>","options":{"columnDefs":[{"targets":3,"render":"function(data, type, row, meta) {\n    return type !== 'display' ? data : DTWidget.formatRound(data, 0, 3, \",\", \".\", null);\n  }"},{"targets":1,"render":"function(data, type, row, meta) {\n    return type !== 'display' ? data : DTWidget.formatCurrency(data, \"$\", 0, 3, \",\", \".\", true, null);\n  }"},{"targets":2,"render":"function(data, type, row, meta) {\n    return type !== 'display' ? data : DTWidget.formatCurrency(data, \"$\", 0, 3, \",\", \".\", true, null);\n  }"},{"className":"dt-right","targets":3},{"orderable":false,"targets":0},{"name":" ","targets":0},{"name":"Bin_Min","targets":1},{"name":"Bin_Max","targets":2},{"name":"Estimate","targets":3},{"name":"MOE","targets":4}],"order":[],"autoWidth":false,"orderClasses":false}},"evals":["options.columnDefs.0.render","options.columnDefs.1.render","options.columnDefs.2.render"],"jsHooks":[]}</script>
<p>IPUMS provides the underlying microdata with the actual rent of each household, allowing this table to be re-binned.</p>
<div class="sourceCode" id="cb19"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb19-1"><a href="querying-microdata-with-ipums.html#cb19-1" tabindex="-1"></a>ipums_rent <span class="ot">&lt;-</span> </span>
<span id="cb19-2"><a href="querying-microdata-with-ipums.html#cb19-2" tabindex="-1"></a>  readr<span class="sc">::</span><span class="fu">read_csv</span>(<span class="st">&quot;./Data/nyc_micro_rent.csv&quot;</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb19-3"><a href="querying-microdata-with-ipums.html#cb19-3" tabindex="-1"></a>  dplyr<span class="sc">::</span><span class="fu">transmute</span>(</span>
<span id="cb19-4"><a href="querying-microdata-with-ipums.html#cb19-4" tabindex="-1"></a>    <span class="at">household =</span> SERIAL,</span>
<span id="cb19-5"><a href="querying-microdata-with-ipums.html#cb19-5" tabindex="-1"></a>    HHWT,</span>
<span id="cb19-6"><a href="querying-microdata-with-ipums.html#cb19-6" tabindex="-1"></a>    <span class="at">rent =</span> dplyr<span class="sc">::</span><span class="fu">case_when</span>(</span>
<span id="cb19-7"><a href="querying-microdata-with-ipums.html#cb19-7" tabindex="-1"></a>      RENTGRS <span class="sc">&lt;</span>   <span class="dv">500</span> <span class="sc">~</span> <span class="st">&quot;0-499&quot;</span>,</span>
<span id="cb19-8"><a href="querying-microdata-with-ipums.html#cb19-8" tabindex="-1"></a>      RENTGRS <span class="sc">&lt;</span>  <span class="dv">1000</span> <span class="sc">~</span> <span class="st">&quot;500-999&quot;</span>,</span>
<span id="cb19-9"><a href="querying-microdata-with-ipums.html#cb19-9" tabindex="-1"></a>      RENTGRS <span class="sc">&lt;</span>  <span class="dv">1500</span> <span class="sc">~</span> <span class="st">&quot;1000-1499&quot;</span>,</span>
<span id="cb19-10"><a href="querying-microdata-with-ipums.html#cb19-10" tabindex="-1"></a>      RENTGRS <span class="sc">&lt;</span>  <span class="dv">2000</span> <span class="sc">~</span> <span class="st">&quot;1500-1999&quot;</span>,</span>
<span id="cb19-11"><a href="querying-microdata-with-ipums.html#cb19-11" tabindex="-1"></a>      RENTGRS <span class="sc">&lt;</span>  <span class="dv">2500</span> <span class="sc">~</span> <span class="st">&quot;2000-2499&quot;</span>,</span>
<span id="cb19-12"><a href="querying-microdata-with-ipums.html#cb19-12" tabindex="-1"></a>      RENTGRS <span class="sc">&lt;</span>  <span class="dv">3000</span> <span class="sc">~</span> <span class="st">&quot;2500-2999&quot;</span>,</span>
<span id="cb19-13"><a href="querying-microdata-with-ipums.html#cb19-13" tabindex="-1"></a>      RENTGRS <span class="sc">&lt;</span>  <span class="dv">3500</span> <span class="sc">~</span> <span class="st">&quot;3000-3499&quot;</span>,</span>
<span id="cb19-14"><a href="querying-microdata-with-ipums.html#cb19-14" tabindex="-1"></a>      RENTGRS <span class="sc">&lt;</span>  <span class="dv">4000</span> <span class="sc">~</span> <span class="st">&quot;3500-3999&quot;</span>,</span>
<span id="cb19-15"><a href="querying-microdata-with-ipums.html#cb19-15" tabindex="-1"></a>      RENTGRS <span class="sc">&lt;</span>  <span class="dv">4500</span> <span class="sc">~</span> <span class="st">&quot;4000-4499&quot;</span>,</span>
<span id="cb19-16"><a href="querying-microdata-with-ipums.html#cb19-16" tabindex="-1"></a>      RENTGRS <span class="sc">&lt;</span>  <span class="dv">5000</span> <span class="sc">~</span> <span class="st">&quot;4500-4999&quot;</span>,</span>
<span id="cb19-17"><a href="querying-microdata-with-ipums.html#cb19-17" tabindex="-1"></a>      RENTGRS <span class="sc">&gt;=</span> <span class="dv">5000</span> <span class="sc">~</span> <span class="st">&quot;5000-Inf&quot;</span></span>
<span id="cb19-18"><a href="querying-microdata-with-ipums.html#cb19-18" tabindex="-1"></a>    )</span>
<span id="cb19-19"><a href="querying-microdata-with-ipums.html#cb19-19" tabindex="-1"></a>  ) <span class="sc">%&gt;%</span> </span>
<span id="cb19-20"><a href="querying-microdata-with-ipums.html#cb19-20" tabindex="-1"></a>  dplyr<span class="sc">::</span><span class="fu">distinct</span>(household, <span class="at">.keep_all =</span> <span class="cn">TRUE</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb19-21"><a href="querying-microdata-with-ipums.html#cb19-21" tabindex="-1"></a>  srvyr<span class="sc">::</span><span class="fu">as_survey</span>(<span class="at">weights =</span> HHWT) <span class="sc">%&gt;%</span></span>
<span id="cb19-22"><a href="querying-microdata-with-ipums.html#cb19-22" tabindex="-1"></a>  dplyr<span class="sc">::</span><span class="fu">summarize</span>(</span>
<span id="cb19-23"><a href="querying-microdata-with-ipums.html#cb19-23" tabindex="-1"></a>    <span class="at">.by =</span> rent,</span>
<span id="cb19-24"><a href="querying-microdata-with-ipums.html#cb19-24" tabindex="-1"></a>    <span class="at">Estimate =</span> srvyr<span class="sc">::</span><span class="fu">survey_total</span>()</span>
<span id="cb19-25"><a href="querying-microdata-with-ipums.html#cb19-25" tabindex="-1"></a>  ) <span class="sc">%&gt;%</span> </span>
<span id="cb19-26"><a href="querying-microdata-with-ipums.html#cb19-26" tabindex="-1"></a>  dplyr<span class="sc">::</span><span class="fu">transmute</span>(</span>
<span id="cb19-27"><a href="querying-microdata-with-ipums.html#cb19-27" tabindex="-1"></a>    rent, </span>
<span id="cb19-28"><a href="querying-microdata-with-ipums.html#cb19-28" tabindex="-1"></a>    Estimate,</span>
<span id="cb19-29"><a href="querying-microdata-with-ipums.html#cb19-29" tabindex="-1"></a>    <span class="at">MOE =</span> stringr<span class="sc">::</span><span class="fu">str_c</span>(</span>
<span id="cb19-30"><a href="querying-microdata-with-ipums.html#cb19-30" tabindex="-1"></a>      <span class="st">&quot;+/- &quot;</span>,</span>
<span id="cb19-31"><a href="querying-microdata-with-ipums.html#cb19-31" tabindex="-1"></a>      scales<span class="sc">::</span><span class="fu">comma</span>(Estimate_se, <span class="at">accuracy =</span> <span class="dv">1</span>)</span>
<span id="cb19-32"><a href="querying-microdata-with-ipums.html#cb19-32" tabindex="-1"></a>    )</span>
<span id="cb19-33"><a href="querying-microdata-with-ipums.html#cb19-33" tabindex="-1"></a>  ) <span class="sc">%&gt;%</span> </span>
<span id="cb19-34"><a href="querying-microdata-with-ipums.html#cb19-34" tabindex="-1"></a>  tidyr<span class="sc">::</span><span class="fu">separate</span>(</span>
<span id="cb19-35"><a href="querying-microdata-with-ipums.html#cb19-35" tabindex="-1"></a>    rent, </span>
<span id="cb19-36"><a href="querying-microdata-with-ipums.html#cb19-36" tabindex="-1"></a>    <span class="at">into =</span> <span class="fu">c</span>(<span class="st">&quot;Bin_Min&quot;</span>, <span class="st">&quot;Bin_Max&quot;</span>),</span>
<span id="cb19-37"><a href="querying-microdata-with-ipums.html#cb19-37" tabindex="-1"></a>    <span class="at">sep =</span> <span class="st">&quot;-&quot;</span></span>
<span id="cb19-38"><a href="querying-microdata-with-ipums.html#cb19-38" tabindex="-1"></a>  ) </span>
<span id="cb19-39"><a href="querying-microdata-with-ipums.html#cb19-39" tabindex="-1"></a></span>
<span id="cb19-40"><a href="querying-microdata-with-ipums.html#cb19-40" tabindex="-1"></a>ipums_rent <span class="sc">%&gt;%</span></span>
<span id="cb19-41"><a href="querying-microdata-with-ipums.html#cb19-41" tabindex="-1"></a>  dplyr<span class="sc">::</span><span class="fu">arrange</span>(<span class="fu">as.double</span>(Bin_Min)) <span class="sc">%&gt;%</span> </span>
<span id="cb19-42"><a href="querying-microdata-with-ipums.html#cb19-42" tabindex="-1"></a>  DT<span class="sc">::</span><span class="fu">datatable</span>() <span class="sc">%&gt;%</span> </span>
<span id="cb19-43"><a href="querying-microdata-with-ipums.html#cb19-43" tabindex="-1"></a>  DT<span class="sc">::</span><span class="fu">formatCurrency</span>(<span class="fu">c</span>(<span class="st">&quot;Bin_Min&quot;</span>, <span class="st">&quot;Bin_Max&quot;</span>), <span class="at">currency =</span> <span class="st">&quot;$&quot;</span>, <span class="at">digits =</span> <span class="dv">0</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb19-44"><a href="querying-microdata-with-ipums.html#cb19-44" tabindex="-1"></a>  DT<span class="sc">::</span><span class="fu">formatRound</span>(<span class="fu">c</span>(<span class="st">&quot;Estimate&quot;</span>), <span class="at">digits =</span> <span class="dv">0</span>)</span></code></pre></div>
<div class="datatables html-widget html-fill-item" id="htmlwidget-f6e4432eb85c6a6f2325" style="width:100%;height:auto;"></div>
<script type="application/json" data-for="htmlwidget-f6e4432eb85c6a6f2325">{"x":{"filter":"none","vertical":false,"data":[["1","2","3","4","5","6","7","8","9","10","11"],["0","500","1000","1500","2000","2500","3000","3500","4000","4500","5000"],["499","999","1499","1999","2499","2999","3499","3999","4499","4999","Inf"],[191244,238834,443601,476110,332803,180154,106840,73659,57612,32709,97996],["+/- 7,103","+/- 7,775","+/- 9,939","+/- 9,860","+/- 8,306","+/- 6,106","+/- 4,702","+/- 4,017","+/- 3,674","+/- 3,039","+/- 5,056"]],"container":"<table class=\"display\">\n  <thead>\n    <tr>\n      <th> <\/th>\n      <th>Bin_Min<\/th>\n      <th>Bin_Max<\/th>\n      <th>Estimate<\/th>\n      <th>MOE<\/th>\n    <\/tr>\n  <\/thead>\n<\/table>","options":{"columnDefs":[{"targets":3,"render":"function(data, type, row, meta) {\n    return type !== 'display' ? data : DTWidget.formatRound(data, 0, 3, \",\", \".\", null);\n  }"},{"targets":1,"render":"function(data, type, row, meta) {\n    return type !== 'display' ? data : DTWidget.formatCurrency(data, \"$\", 0, 3, \",\", \".\", true, null);\n  }"},{"targets":2,"render":"function(data, type, row, meta) {\n    return type !== 'display' ? data : DTWidget.formatCurrency(data, \"$\", 0, 3, \",\", \".\", true, null);\n  }"},{"className":"dt-right","targets":3},{"orderable":false,"targets":0},{"name":" ","targets":0},{"name":"Bin_Min","targets":1},{"name":"Bin_Max","targets":2},{"name":"Estimate","targets":3},{"name":"MOE","targets":4}],"order":[],"autoWidth":false,"orderClasses":false}},"evals":["options.columnDefs.0.render","options.columnDefs.1.render","options.columnDefs.2.render"],"jsHooks":[]}</script>
<hr style="border:2px solid blue">
<div id="extracting-data" class="section level2 hasAnchor" number="6.1">
<h2><span class="header-section-number">6.1</span> Extracting Data<a href="querying-microdata-with-ipums.html#extracting-data" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>IPUMS data is available online at <a href="https://usa.ipums.org/usa/">https://usa.ipums.org/usa/</a>. Register for an account and click “Get Data” to start.</p>
<div id="select-samples" class="section level3 hasAnchor" number="6.1.1">
<h3><span class="header-section-number">6.1.1</span> Select Samples<a href="querying-microdata-with-ipums.html#select-samples" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>These are the datasets to pull from.</p>
<p><img src="Images/IPUMS/ipums_select_1_sample.png" /></p>
</div>
<div id="select-geography" class="section level3 hasAnchor" number="6.1.2">
<h3><span class="header-section-number">6.1.2</span> Select Geography<a href="querying-microdata-with-ipums.html#select-geography" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>Microdata available through IPUMS is only labeled at the PUMA-level and higher (roughly equivalent to Community Districts in NYC). Selecting geographic fields does not impact which records are sampled (a filter is required for that), it just provides a code in each record to aggregate the data to that level.</p>
<p><img src="Images/IPUMS/ipums_select_2_geography.png" /></p>
</div>
<div id="select-variables" class="section level3 hasAnchor" number="6.1.3">
<h3><span class="header-section-number">6.1.3</span> Select Variables<a href="querying-microdata-with-ipums.html#select-variables" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>IPUMS tries to harmonize variables across datasets, but make sure the variable(s) selected match the use-case and are available for all years. The metadata also provides info on top coding and other categorizations.</p>
<p><img src="Images/IPUMS/ipums_select_3_variables.png" /></p>
</div>
<div id="view-data-cart" class="section level3 hasAnchor" number="6.1.4">
<h3><span class="header-section-number">6.1.4</span> View Data Cart<a href="querying-microdata-with-ipums.html#view-data-cart" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>Ensure everything is correct, and then click “Create Data Extract”.</p>
<p><img src="Images/IPUMS/ipums_select_4_cart.png" /></p>
</div>
<div id="modify-extract" class="section level3 hasAnchor" number="6.1.5">
<h3><span class="header-section-number">6.1.5</span> Modify Extract<a href="querying-microdata-with-ipums.html#modify-extract" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>From this page you can:</p>
<ul>
<li>Change the file output to CSV</li>
<li>Select cases (i.e. filter the sample) by state</li>
<li>Adjust monetary values to 2010</li>
</ul>
<p><img src="Images/IPUMS/ipums_select_5_modify.png" /></p>
</div>
<div id="download" class="section level3 hasAnchor" number="6.1.6">
<h3><span class="header-section-number">6.1.6</span> Download<a href="querying-microdata-with-ipums.html#download" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>Once the extract is completed, download the CSV. The download will likely show up as a .csv.gz file, so use 7-Zip to extract the zipped file instead of the default Windows option (Windows Explorer sometimes misinterprets .gz files and produces thousands of fragments).</p>
<p><img src="Images/IPUMS/ipums_select_6_download.png" /></p>
<p>The data extract is now ready to use!</p>
<div class="sourceCode" id="cb20"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb20-1"><a href="querying-microdata-with-ipums.html#cb20-1" tabindex="-1"></a>readr<span class="sc">::</span><span class="fu">read_csv</span>(<span class="st">&quot;./Data/nyc_micro_rent.csv&quot;</span>) <span class="sc">%&gt;%</span> <span class="fu">head</span>()</span></code></pre></div>
<pre><code>## # A tibble: 6 × 12
##    YEAR SAMPLE SERIAL      CBSERIAL  HHWT       CLUSTER STATEFIP COUNTYFIP STRATA    GQ RENTGRS RENTGRS_CPIU_2010
##   &lt;dbl&gt;  &lt;dbl&gt;  &lt;dbl&gt;         &lt;dbl&gt; &lt;dbl&gt;         &lt;dbl&gt;    &lt;dbl&gt;     &lt;dbl&gt;  &lt;dbl&gt; &lt;dbl&gt;   &lt;dbl&gt;             &lt;dbl&gt;
## 1  2023 202301 897328 2023000000170    85 2023008973281       36        47 430536     1     270               192
## 2  2023 202301 897332 2023000000261    95 2023008973321       36        81 441336     1     417               296
## 3  2023 202301 897332 2023000000261    95 2023008973321       36        81 441336     1     417               296
## 4  2023 202301 897332 2023000000261    95 2023008973321       36        81 441336     1     417               296
## 5  2023 202301 897332 2023000000261    95 2023008973321       36        81 441336     1     417               296
## 6  2023 202301 897335 2023000000297   365 2023008973351       36        61 410336     1    1300               923</code></pre>
<hr style="border:2px solid blue">
</div>
</div>
<div id="analyzing-a-survey" class="section level2 hasAnchor" number="6.2">
<h2><span class="header-section-number">6.2</span> Analyzing a Survey<a href="querying-microdata-with-ipums.html#analyzing-a-survey" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>Unlike the ACS, which provides cleaned estimates with margins of error, IPUMS is messy survey data that must be processed before producing estimates. However, unlike the NYC Housing and Vacancy Survey which has dozens of replicate weights to account for, IPUMS is much easier to work with. All that is needed is to create a survey object with the weight specified as either the household or person weight. IPUMS data is always provided at the person-level where each row represents a person. This is true even if all of the variables selected are household-level variables (in which case the household-level variables are repeated across all individuals in the household). When using person-level variables, use all records and the <code>PERWT</code> weight; when using household-level variables, first select only one row per household/<code>SERIAL</code> and then use the <code>HHWT</code> weight.</p>
<div class="sourceCode" id="cb22"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb22-1"><a href="querying-microdata-with-ipums.html#cb22-1" tabindex="-1"></a><span class="co">#Household-level data</span></span>
<span id="cb22-2"><a href="querying-microdata-with-ipums.html#cb22-2" tabindex="-1"></a>ipums_hh_data <span class="sc">%&gt;%</span> </span>
<span id="cb22-3"><a href="querying-microdata-with-ipums.html#cb22-3" tabindex="-1"></a>  <span class="co">#Select one row per household</span></span>
<span id="cb22-4"><a href="querying-microdata-with-ipums.html#cb22-4" tabindex="-1"></a>  dplyr<span class="sc">::</span><span class="fu">distinct</span>(SERIAL, <span class="at">.keep_all =</span> <span class="cn">TRUE</span>) <span class="sc">%&gt;%</span></span>
<span id="cb22-5"><a href="querying-microdata-with-ipums.html#cb22-5" tabindex="-1"></a>  srvyr<span class="sc">::</span><span class="fu">as_survey</span>(<span class="at">weights =</span> HHWT)</span></code></pre></div>
<div class="sourceCode" id="cb23"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb23-1"><a href="querying-microdata-with-ipums.html#cb23-1" tabindex="-1"></a><span class="co">#Person-level data</span></span>
<span id="cb23-2"><a href="querying-microdata-with-ipums.html#cb23-2" tabindex="-1"></a>ipums_ind_data <span class="sc">%&gt;%</span> </span>
<span id="cb23-3"><a href="querying-microdata-with-ipums.html#cb23-3" tabindex="-1"></a>  srvyr<span class="sc">::</span><span class="fu">as_survey</span>(<span class="at">weights =</span> PERWT)</span></code></pre></div>
<div class="sourceCode" id="cb24"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb24-1"><a href="querying-microdata-with-ipums.html#cb24-1" tabindex="-1"></a><span class="co">#Mixed data</span></span>
<span id="cb24-2"><a href="querying-microdata-with-ipums.html#cb24-2" tabindex="-1"></a>ipums_mix_data <span class="sc">%&gt;%</span> </span>
<span id="cb24-3"><a href="querying-microdata-with-ipums.html#cb24-3" tabindex="-1"></a>  <span class="co">#Select specific row per household, in this case Head of Household</span></span>
<span id="cb24-4"><a href="querying-microdata-with-ipums.html#cb24-4" tabindex="-1"></a>  dplyr<span class="sc">::</span><span class="fu">filter</span>(RELATE <span class="sc">==</span> <span class="dv">1</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb24-5"><a href="querying-microdata-with-ipums.html#cb24-5" tabindex="-1"></a>  srvyr<span class="sc">::</span><span class="fu">as_survey</span>(<span class="at">weights =</span> HHWT)</span></code></pre></div>
<p>Once the survey object is created, <code>srvyr</code> has a series of functions that calculate estimates with margins of error.</p>
<ul>
<li><code>survey_total()</code> for counts</li>
<li><code>survey_total(col)</code> for sums</li>
<li><code>survey_mean(col)</code> for means</li>
<li><code>survey_median(col)</code> for medians</li>
<li><code>survey_quantile(col, quantiles = x)</code> for other quantiles</li>
<li>Etc.</li>
</ul>
<div class="sourceCode" id="cb25"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb25-1"><a href="querying-microdata-with-ipums.html#cb25-1" tabindex="-1"></a>readr<span class="sc">::</span><span class="fu">read_csv</span>(<span class="st">&quot;./Data/nyc_micro_rent.csv&quot;</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb25-2"><a href="querying-microdata-with-ipums.html#cb25-2" tabindex="-1"></a>  dplyr<span class="sc">::</span><span class="fu">distinct</span>(SERIAL, <span class="at">.keep_all =</span> <span class="cn">TRUE</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb25-3"><a href="querying-microdata-with-ipums.html#cb25-3" tabindex="-1"></a>  srvyr<span class="sc">::</span><span class="fu">as_survey</span>(<span class="at">weights =</span> HHWT) <span class="sc">%&gt;%</span> </span>
<span id="cb25-4"><a href="querying-microdata-with-ipums.html#cb25-4" tabindex="-1"></a>  dplyr<span class="sc">::</span><span class="fu">summarize</span>(</span>
<span id="cb25-5"><a href="querying-microdata-with-ipums.html#cb25-5" tabindex="-1"></a>    <span class="at">median_rent =</span> srvyr<span class="sc">::</span><span class="fu">survey_median</span>(RENTGRS, <span class="at">na.rm =</span> <span class="cn">TRUE</span>),</span>
<span id="cb25-6"><a href="querying-microdata-with-ipums.html#cb25-6" tabindex="-1"></a>    <span class="at">mean_rent =</span> srvyr<span class="sc">::</span><span class="fu">survey_mean</span>(RENTGRS, <span class="at">na.rm =</span> <span class="cn">TRUE</span>)</span>
<span id="cb25-7"><a href="querying-microdata-with-ipums.html#cb25-7" tabindex="-1"></a>  ) <span class="sc">%&gt;%</span> </span>
<span id="cb25-8"><a href="querying-microdata-with-ipums.html#cb25-8" tabindex="-1"></a>  DT<span class="sc">::</span><span class="fu">datatable</span>() <span class="sc">%&gt;%</span> </span>
<span id="cb25-9"><a href="querying-microdata-with-ipums.html#cb25-9" tabindex="-1"></a>  DT<span class="sc">::</span><span class="fu">formatCurrency</span>(<span class="fu">c</span>(<span class="st">&quot;median_rent&quot;</span>, <span class="st">&quot;median_rent_se&quot;</span>, <span class="st">&quot;mean_rent&quot;</span>, <span class="st">&quot;mean_rent_se&quot;</span>), <span class="at">currency =</span> <span class="st">&quot;$&quot;</span>, <span class="at">digits =</span> <span class="dv">2</span>)</span></code></pre></div>
<div class="datatables html-widget html-fill-item" id="htmlwidget-7db09f3023b53ad78387" style="width:100%;height:auto;"></div>
<script type="application/json" data-for="htmlwidget-7db09f3023b53ad78387">{"x":{"filter":"none","vertical":false,"data":[["1"],[1730],[15.81531121962925],[2015.303902378693],[15.11178391966048]],"container":"<table class=\"display\">\n  <thead>\n    <tr>\n      <th> <\/th>\n      <th>median_rent<\/th>\n      <th>median_rent_se<\/th>\n      <th>mean_rent<\/th>\n      <th>mean_rent_se<\/th>\n    <\/tr>\n  <\/thead>\n<\/table>","options":{"columnDefs":[{"targets":1,"render":"function(data, type, row, meta) {\n    return type !== 'display' ? data : DTWidget.formatCurrency(data, \"$\", 2, 3, \",\", \".\", true, null);\n  }"},{"targets":2,"render":"function(data, type, row, meta) {\n    return type !== 'display' ? data : DTWidget.formatCurrency(data, \"$\", 2, 3, \",\", \".\", true, null);\n  }"},{"targets":3,"render":"function(data, type, row, meta) {\n    return type !== 'display' ? data : DTWidget.formatCurrency(data, \"$\", 2, 3, \",\", \".\", true, null);\n  }"},{"targets":4,"render":"function(data, type, row, meta) {\n    return type !== 'display' ? data : DTWidget.formatCurrency(data, \"$\", 2, 3, \",\", \".\", true, null);\n  }"},{"className":"dt-right","targets":[1,2,3,4]},{"orderable":false,"targets":0},{"name":" ","targets":0},{"name":"median_rent","targets":1},{"name":"median_rent_se","targets":2},{"name":"mean_rent","targets":3},{"name":"mean_rent_se","targets":4}],"order":[],"autoWidth":false,"orderClasses":false}},"evals":["options.columnDefs.0.render","options.columnDefs.1.render","options.columnDefs.2.render","options.columnDefs.3.render"],"jsHooks":[]}</script>
<p>When grouping, <code>summarize()</code> fails with multiple <code>.by</code> arguments, so multiple grouping variables should be concatenated before summarizing.</p>
<div class="sourceCode" id="cb26"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb26-1"><a href="querying-microdata-with-ipums.html#cb26-1" tabindex="-1"></a>readr<span class="sc">::</span><span class="fu">read_csv</span>(<span class="st">&quot;./Data/nyc_micro_rent.csv&quot;</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb26-2"><a href="querying-microdata-with-ipums.html#cb26-2" tabindex="-1"></a>  <span class="co">#Create new variables</span></span>
<span id="cb26-3"><a href="querying-microdata-with-ipums.html#cb26-3" tabindex="-1"></a>  dplyr<span class="sc">::</span><span class="fu">transmute</span>(</span>
<span id="cb26-4"><a href="querying-microdata-with-ipums.html#cb26-4" tabindex="-1"></a>    <span class="at">household =</span> SERIAL,</span>
<span id="cb26-5"><a href="querying-microdata-with-ipums.html#cb26-5" tabindex="-1"></a>    HHWT,</span>
<span id="cb26-6"><a href="querying-microdata-with-ipums.html#cb26-6" tabindex="-1"></a>    <span class="at">borough =</span> dplyr<span class="sc">::</span><span class="fu">case_when</span>(</span>
<span id="cb26-7"><a href="querying-microdata-with-ipums.html#cb26-7" tabindex="-1"></a>      COUNTYFIP <span class="sc">==</span> <span class="dv">5</span>  <span class="sc">~</span> <span class="st">&quot;Bronx&quot;</span>,</span>
<span id="cb26-8"><a href="querying-microdata-with-ipums.html#cb26-8" tabindex="-1"></a>      COUNTYFIP <span class="sc">==</span> <span class="dv">47</span> <span class="sc">~</span> <span class="st">&quot;Brooklyn&quot;</span>,</span>
<span id="cb26-9"><a href="querying-microdata-with-ipums.html#cb26-9" tabindex="-1"></a>      COUNTYFIP <span class="sc">==</span> <span class="dv">61</span> <span class="sc">~</span> <span class="st">&quot;Manhattan&quot;</span>,</span>
<span id="cb26-10"><a href="querying-microdata-with-ipums.html#cb26-10" tabindex="-1"></a>      COUNTYFIP <span class="sc">==</span> <span class="dv">81</span> <span class="sc">~</span> <span class="st">&quot;Queens&quot;</span>,</span>
<span id="cb26-11"><a href="querying-microdata-with-ipums.html#cb26-11" tabindex="-1"></a>      COUNTYFIP <span class="sc">==</span> <span class="dv">85</span> <span class="sc">~</span> <span class="st">&quot;Staten_Island&quot;</span></span>
<span id="cb26-12"><a href="querying-microdata-with-ipums.html#cb26-12" tabindex="-1"></a>    ),</span>
<span id="cb26-13"><a href="querying-microdata-with-ipums.html#cb26-13" tabindex="-1"></a>    <span class="at">rent =</span> dplyr<span class="sc">::</span><span class="fu">case_when</span>(</span>
<span id="cb26-14"><a href="querying-microdata-with-ipums.html#cb26-14" tabindex="-1"></a>      <span class="at">.default =</span> <span class="st">&quot;Normal&quot;</span>,</span>
<span id="cb26-15"><a href="querying-microdata-with-ipums.html#cb26-15" tabindex="-1"></a>      RENTGRS <span class="sc">&lt;</span>  <span class="dv">500</span> <span class="sc">~</span> <span class="st">&quot;Very Low&quot;</span>,</span>
<span id="cb26-16"><a href="querying-microdata-with-ipums.html#cb26-16" tabindex="-1"></a>      RENTGRS <span class="sc">&gt;</span> <span class="dv">4000</span> <span class="sc">~</span> <span class="st">&quot;Very High&quot;</span></span>
<span id="cb26-17"><a href="querying-microdata-with-ipums.html#cb26-17" tabindex="-1"></a>    ),</span>
<span id="cb26-18"><a href="querying-microdata-with-ipums.html#cb26-18" tabindex="-1"></a>    RENTGRS</span>
<span id="cb26-19"><a href="querying-microdata-with-ipums.html#cb26-19" tabindex="-1"></a>  ) <span class="sc">%&gt;%</span></span>
<span id="cb26-20"><a href="querying-microdata-with-ipums.html#cb26-20" tabindex="-1"></a>  <span class="co">#Concatenate variables into one column</span></span>
<span id="cb26-21"><a href="querying-microdata-with-ipums.html#cb26-21" tabindex="-1"></a>  dplyr<span class="sc">::</span><span class="fu">transmute</span>(</span>
<span id="cb26-22"><a href="querying-microdata-with-ipums.html#cb26-22" tabindex="-1"></a>    household,</span>
<span id="cb26-23"><a href="querying-microdata-with-ipums.html#cb26-23" tabindex="-1"></a>    HHWT, </span>
<span id="cb26-24"><a href="querying-microdata-with-ipums.html#cb26-24" tabindex="-1"></a>    <span class="at">group =</span> stringr<span class="sc">::</span><span class="fu">str_c</span>(borough, rent, <span class="at">sep =</span> <span class="st">&quot;-&quot;</span>),</span>
<span id="cb26-25"><a href="querying-microdata-with-ipums.html#cb26-25" tabindex="-1"></a>    RENTGRS</span>
<span id="cb26-26"><a href="querying-microdata-with-ipums.html#cb26-26" tabindex="-1"></a>  ) <span class="sc">%&gt;%</span> </span>
<span id="cb26-27"><a href="querying-microdata-with-ipums.html#cb26-27" tabindex="-1"></a>  dplyr<span class="sc">::</span><span class="fu">distinct</span>(household, <span class="at">.keep_all =</span> <span class="cn">TRUE</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb26-28"><a href="querying-microdata-with-ipums.html#cb26-28" tabindex="-1"></a>  srvyr<span class="sc">::</span><span class="fu">as_survey</span>(<span class="at">weights =</span> HHWT) <span class="sc">%&gt;%</span></span>
<span id="cb26-29"><a href="querying-microdata-with-ipums.html#cb26-29" tabindex="-1"></a>  <span class="co">#Group and analyze by the concatenated variable</span></span>
<span id="cb26-30"><a href="querying-microdata-with-ipums.html#cb26-30" tabindex="-1"></a>  dplyr<span class="sc">::</span><span class="fu">summarize</span>(</span>
<span id="cb26-31"><a href="querying-microdata-with-ipums.html#cb26-31" tabindex="-1"></a>    <span class="at">.by =</span> group,</span>
<span id="cb26-32"><a href="querying-microdata-with-ipums.html#cb26-32" tabindex="-1"></a>    <span class="at">rent =</span> srvyr<span class="sc">::</span><span class="fu">survey_median</span>(RENTGRS, <span class="at">na.rm =</span> <span class="cn">TRUE</span>)</span>
<span id="cb26-33"><a href="querying-microdata-with-ipums.html#cb26-33" tabindex="-1"></a>  ) <span class="sc">%&gt;%</span> </span>
<span id="cb26-34"><a href="querying-microdata-with-ipums.html#cb26-34" tabindex="-1"></a>  <span class="co">#Split the concatenated variable back into multiple variables</span></span>
<span id="cb26-35"><a href="querying-microdata-with-ipums.html#cb26-35" tabindex="-1"></a>  tidyr<span class="sc">::</span><span class="fu">separate</span>(</span>
<span id="cb26-36"><a href="querying-microdata-with-ipums.html#cb26-36" tabindex="-1"></a>    group, </span>
<span id="cb26-37"><a href="querying-microdata-with-ipums.html#cb26-37" tabindex="-1"></a>    <span class="at">into =</span> <span class="fu">c</span>(<span class="st">&quot;borough&quot;</span>, <span class="st">&quot;rent_level&quot;</span>),</span>
<span id="cb26-38"><a href="querying-microdata-with-ipums.html#cb26-38" tabindex="-1"></a>    <span class="at">sep =</span> <span class="st">&quot;-&quot;</span></span>
<span id="cb26-39"><a href="querying-microdata-with-ipums.html#cb26-39" tabindex="-1"></a>  ) <span class="sc">%&gt;%</span> </span>
<span id="cb26-40"><a href="querying-microdata-with-ipums.html#cb26-40" tabindex="-1"></a>  dplyr<span class="sc">::</span><span class="fu">select</span>(<span class="sc">-</span>rent_se) <span class="sc">%&gt;%</span> </span>
<span id="cb26-41"><a href="querying-microdata-with-ipums.html#cb26-41" tabindex="-1"></a>  tidyr<span class="sc">::</span><span class="fu">pivot_wider</span>(<span class="at">names_from =</span> borough, <span class="at">values_from =</span> rent) <span class="sc">%&gt;%</span> </span>
<span id="cb26-42"><a href="querying-microdata-with-ipums.html#cb26-42" tabindex="-1"></a>  DT<span class="sc">::</span><span class="fu">datatable</span>() <span class="sc">%&gt;%</span> </span>
<span id="cb26-43"><a href="querying-microdata-with-ipums.html#cb26-43" tabindex="-1"></a>  DT<span class="sc">::</span><span class="fu">formatCurrency</span>(<span class="fu">c</span>(<span class="st">&quot;Bronx&quot;</span>, <span class="st">&quot;Brooklyn&quot;</span>, <span class="st">&quot;Manhattan&quot;</span>, <span class="st">&quot;Queens&quot;</span>, <span class="st">&quot;Staten_Island&quot;</span>), <span class="at">digits =</span> <span class="dv">0</span>)</span></code></pre></div>
<div class="datatables html-widget html-fill-item" id="htmlwidget-323d17f0ab70f255d272" style="width:100%;height:auto;"></div>
<script type="application/json" data-for="htmlwidget-323d17f0ab70f255d272">{"x":{"filter":"none","vertical":false,"data":[["1","2","3"],["Normal","Very High","Very Low"],[1440,4600,300],[1780,4790,290],[1910,5250,300],[1870,4940,300],[1700,4260,270]],"container":"<table class=\"display\">\n  <thead>\n    <tr>\n      <th> <\/th>\n      <th>rent_level<\/th>\n      <th>Bronx<\/th>\n      <th>Brooklyn<\/th>\n      <th>Manhattan<\/th>\n      <th>Queens<\/th>\n      <th>Staten_Island<\/th>\n    <\/tr>\n  <\/thead>\n<\/table>","options":{"columnDefs":[{"targets":2,"render":"function(data, type, row, meta) {\n    return type !== 'display' ? data : DTWidget.formatCurrency(data, \"$\", 0, 3, \",\", \".\", true, null);\n  }"},{"targets":3,"render":"function(data, type, row, meta) {\n    return type !== 'display' ? data : DTWidget.formatCurrency(data, \"$\", 0, 3, \",\", \".\", true, null);\n  }"},{"targets":4,"render":"function(data, type, row, meta) {\n    return type !== 'display' ? data : DTWidget.formatCurrency(data, \"$\", 0, 3, \",\", \".\", true, null);\n  }"},{"targets":5,"render":"function(data, type, row, meta) {\n    return type !== 'display' ? data : DTWidget.formatCurrency(data, \"$\", 0, 3, \",\", \".\", true, null);\n  }"},{"targets":6,"render":"function(data, type, row, meta) {\n    return type !== 'display' ? data : DTWidget.formatCurrency(data, \"$\", 0, 3, \",\", \".\", true, null);\n  }"},{"className":"dt-right","targets":[2,3,4,5,6]},{"orderable":false,"targets":0},{"name":" ","targets":0},{"name":"rent_level","targets":1},{"name":"Bronx","targets":2},{"name":"Brooklyn","targets":3},{"name":"Manhattan","targets":4},{"name":"Queens","targets":5},{"name":"Staten_Island","targets":6}],"order":[],"autoWidth":false,"orderClasses":false}},"evals":["options.columnDefs.0.render","options.columnDefs.1.render","options.columnDefs.2.render","options.columnDefs.3.render","options.columnDefs.4.render"],"jsHooks":[]}</script>
<hr style="border:2px solid blue">

</div>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="querying-nyc-hvs-data.html" class="navigation navigation-prev navigation-unique" aria-label="Previous page"><i class="fa fa-angle-left"></i></a>

    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/clipboard.min.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-clipboard.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
  "sharing": {
    "github": false,
    "facebook": true,
    "twitter": true,
    "linkedin": false,
    "weibo": false,
    "instapaper": false,
    "vk": false,
    "whatsapp": false,
    "all": ["facebook", "twitter", "linkedin", "weibo", "instapaper"]
  },
  "fontsettings": {
    "theme": "white",
    "family": "sans",
    "size": 2
  },
  "edit": {
    "link": null,
    "text": null
  },
  "history": {
    "link": null,
    "text": null
  },
  "view": {
    "link": null,
    "text": null
  },
  "download": null,
  "search": {
    "engine": "fuse",
    "options": null
  },
  "toc": {
    "collapse": "subsection"
  }
});
});
</script>

</body>

</html>
